addpath("./funcs/Es29");
addpath("./funcs/Es28");
tols = [10^-2;10^-3;10^-4;10^-5;10^-6];
tol = 10^-2;
ris2 = zeros(1,5);
% I2 = adaptrap(0,1,f(0),f(1),tol,@f);
% ris2(1) = I2;
% tol = 10^-3;
% I2 = adaptrap(0,1,f(0),f(1),tol,@f);
% ris2(2) = I2;
% tol = 10^-4;
% I2 = adaptrap(0,1,f(0),f(1),tol,@f);
% ris2(3) = I2;
% tol = 10^-5;
% I2 = adaptrap(0,1,f(0),f(1),tol,@f);
% ris2(4) = I2;
% tol = 10^-6;
% I2 = adaptrap(0,1,f(0),f(1),tol,@f);
% ris2(5) = I2;
[I2,nfeval]  = adaptrap(0,1,f(0),f(1),tol,@f);
ris2(1) = nfeval;
tol = 10^-3;
[I2,nfeval]  = adaptrap(0,1,f(0),f(1),tol,@f);
ris2(2) = nfeval;
tol = 10^-4;
[I2,nfeval]  = adaptrap(0,1,f(0),f(1),tol,@f);
ris2(3) = nfeval;
tol = 10^-5;
[I2,nfeval]  = adaptrap(0,1,f(0),f(1),tol,@f);
ris2(4) = nfeval;
tol = 10^-6;
[I2,nfeval]  = adaptrap(0,1,f(0),f(1),tol,@f);
ris2(5) = nfeval;

trap = ris2';

ris4 = zeros(1,5);
% tol = 10^-2;
% I4 = adapsimp(0,1,f(0),f(1),tol,@f);
% ris4(1) = I4;
% tol = 10^-3;
% I4 = adapsimp(0,1,f(0),f(1),tol,@f);
% ris4(2) = I4;
% tol = 10^-4;
% I4 = adapsimp(0,1,f(0),f(1),tol,@f);
% ris4(3) = I4;
% tol = 10^-5;
% I4 = adapsimp(0,1,f(0),f(1),tol,@f);
% ris4(4) = I4;
% tol = 10^-6;
% I4 = adapsimp(0,1,f(0),f(1),tol,@f);
% ris4(5) = I4;
tol = 10^-2;
[I4,nfeval] = adapsimp(0,1,f(0),f(1),tol,@f);
ris4(1) = nfeval;
tol = 10^-3;
[I4,nfeval] = adapsimp(0,1,f(0),f(1),tol,@f);
ris4(2) = nfeval;
tol = 10^-4;
[I4,nfeval] = adapsimp(0,1,f(0),f(1),tol,@f);
ris4(3) = nfeval;
tol = 10^-5;
[I4,nfeval] = adapsimp(0,1,f(0),f(1),tol,@f);
ris4(4) = nfeval;
tol = 10^-6;
[I4,nfeval] = adapsimp(0,1,f(0),f(1),tol,@f);
ris4(5) = nfeval;

simp = ris4';
disp(table(tols,trap,simp));

function y = f(x)   
    y = sin(1/(0.01+x));
end